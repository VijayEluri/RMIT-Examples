Example heavily adapted from Head First Design Patterns